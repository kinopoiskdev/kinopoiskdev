

# üìΩÔ∏è –ù–µ–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–µ –∞–ø–∏ –∫–∏–Ω–æ–ø–æ–∏—Å–∫–∞
<p style="text-align: center;"><img style="object-fit: cover; max-width: 1080px" src="./docs/images/cover.png" height="400px" width="100%"></p>

–¶–µ–ª—å —ç—Ç–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è —Ä–µ—à–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π –∞–ø–∏ –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —é–∑–µ—Ä–∞–º –≤–Ω–æ—Å–∏—Ç—å —Å–≤–æ–π –≤–∫–ª–∞–¥ –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É.  

## TODO 
### –ó–∞–¥–∞—á–∏ –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

**–ì–ª–æ–±–∞–ª—å–Ω—ã–µ –∑–∞–¥–∞—á–∏**
1. [ ] –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö –∏–∑ —Å—Ç–∞—Ä–æ–≥–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ query –∑–∞–ø—Ä–æ—Å–æ–≤
2. [ ] –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–≤–µ—Ç–∞ —Å –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π
3. [ ] –¢—Ä–∞–Ω—Å—Ñ–æ—Ä–º–∞—Ü–∏—è –æ—Ç–≤–µ—Ç–∞ –∫ —Å—Ç–∞—Ä–æ–º—É –≤–∏–¥—É

**–°—É—â–Ω–æ—Å—Ç–∏**  
–ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –≤—Å–µ —Å—É—â–Ω–æ—Å—Ç–∏ –∏–∑ —Å—Ç–∞—Ä–æ–π –±–∞–∑—ã –≤ –Ω–æ–≤—É—é
1. [x] Movie
2. [x] Person
3. [x] Season
4. [x] Image
5. [x] Review

**Endpoints**  
–î–ª—è –≤—Å–µ—Ö –ø–æ–∏–Ω—Ç–æ–≤ –Ω–∏–∂–µ, –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–æ–¥—É–ª–∏ —Å –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞–º–∏ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–µ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏. 
1. [ ] /movie
2. [ ] /person
3. [ ] /season
4. [ ] /image
5. [ ] /review

## –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã —Å—Ç–∞—Ä–æ–π –≤–µ—Ä—Å–∏–∏
### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ—Å—Ç—Ä–æ–µ–Ω–æ –Ω–∞ JS –∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–µ expressjs, –≤ –∫–∞—á–µ—Å—Ç–≤–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏—Å–ø–æ–ª—å–∑—É–µ—Ç MongoDB.   
–í —Ü–µ–ª–æ–º —Å—Ç–µ–∫ –Ω–µ –ø–ª–æ—Ö–æ–π, –Ω–æ –≤ —Ç–µ—á–µ–Ω–∏–∏ 3—Ö –ª–µ—Ç API —Ä–µ–≥—É–ª—è—Ä–Ω–æ –æ–±–Ω–æ–≤–ª—è–ª–æ—Å—å –∏ –¥–æ—Ä–∞–±–∞—Ç—ã–≤–∞–ª–æ—Å—å.  
–ê –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Ç–∏–ø–æ–≤ –∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –¥–æ–±–∞–≤–∏–ª–∏ —Å–≤–æ—é –ª–æ–∂–∫—É –¥–µ–≥—Ç—è –≤ —ç—Ç–æ –¥–µ–ª–æ.  
–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –Ω–µ –ø—Ä–æ–≤–æ–¥–∏–ª—Å—è. –í—Å–µ —ç—Ç–æ —É—Å—É–≥—É–±–∏–ª–æ –µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –ø—Ä–∏–≤–µ–ª–æ –≤ –Ω–µ–∏–∑–ª–µ—á–∏–º—É—é —Å—Ç–∞–¥–∏—é.

–°–∞–º–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å—Ç—Ä–æ–∏–ª–æ—Å—å –ø–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∞–º —ç–∫—Å–ø—Ä–µ—Å—Å–∞ —Ç–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏, –∏ –∑–∞ –¥–æ–ª–≥–æ–µ –≤—Ä–µ–º—è –ø–æ–∫–∞–∑–∞–ª–æ, —á—Ç–æ —Ç–∞–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –Ω–µ –∂–∏–∑–Ω–µ—Å–ø–æ—Å–æ–±–Ω–∞ –∏ –±—ã–ª–∞ –æ—à–∏–±–æ—á–Ω–æ –≤—ã–±—Ä–∞–Ω–∞.
–ò–∑-–∑–∞ –≤—Å–µ—Ö —ç—Ç–∏—Ö –ø—Ä–æ–±–ª–µ–º —á–µ—Ä–µ–∑ –≤—Ä–µ–º—è —è —Å—Ç–æ–ª–∫–Ω—É–ª—Å—è —Å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∫–æ–¥–∞, –Ω–∞ –¥–∞–Ω–Ω—ã—Ö –º–æ–º–µ–Ω—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç—Å—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –º–æ–¥–µ–ª–∏ —Å—Ä–∞–∑—É –≤ 5—Ö –º–µ—Å—Ç–∞—Ö –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –æ–¥–Ω–æ–≥–æ –ø–æ–ª—è.
–ü—Ä–∏ —ç—Ç–æ–º –º–æ–¥–µ–ª—å –±–∞–∑—ã –≤ –∞–ø–∏, –Ω–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —Å–æ–±–ª—é–¥–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ –∏—Ö –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –Ω–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –æ–±—â–∏–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç.

### –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å
–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å —ç—Ç–æ–º—É –ø—Ä–æ–µ–∫—Ç—É –æ–±–µ—Å–ø–µ—á–∏–≤–∞–ª —Å–µ—Ä–≤–µ—Ä —Å 40 —è–¥—Ä–∞–º–∏. –ò —Ç–æ–ª—å–∫–æ –±–ª–∞–≥–æ–¥–∞—Ä—è –∫–ª–∞—Å—Ç–µ—Ä—É –æ–Ω–∞ –Ω–µ –ø–∞–¥–∞–ª–∞ —É –≤—Å–µ—Ö —Å—Ä–∞–∑—É. –ü–æ –º–æ–µ–π —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ –∑–∞ 5 –¥–Ω–µ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∫—Ä–∞—à–∏–ª–æ—Å—å –¥–æ 600 —Ä–∞–∑. 
–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–æ—Å—Ç–∞–≤–ª—è–ª–∏ –∑–∞–ø—Ä–æ—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–≤–æ–¥–∏–ª–∏ –∫ –ø—Ä–æ–≤–∏—Å–∞–Ω–∏—é —è–¥—Ä–∞ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç, –∞ –∏–Ω–æ–≥–¥–∞ —á–∞—Å–æ–≤. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Å —ç—Ç–∏–º —Å–ø—Ä–∞–≤–ª—è–ª–∞—Å—å, –Ω–æ –¥–ª–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–µ —Å–∂–∏—Ä–∞–ª–∏ 60 –≥–∏–≥–æ–≤ –æ–ø–µ—Ä–∞—Ç–∏–≤—ã.

### –û—à–∏–±–∫–∏
–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ–±—â–∏—Ö –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –ø—Ä–∏–≤–µ–ª–∏ –∫ —Ç–æ–º—É, —á—Ç–æ –ø–∞—Ä—Å–µ—Ä—ã –º–æ–≥–ª–∏ —Å–∫–ª–∞–¥—ã–≤–∞—Ç—å –≤ –±–∞–∑—É –Ω–µ —Å–æ–≤—Å–µ–º –≤–∞–ª–∏–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –∞ –∏–Ω–æ–≥–¥–∞ –∑–∞—Ç–∏—Ä–∞—Ç—å –∏—Ö –∑–Ω–∞—á–µ–Ω–∏—è.
–í –æ—Å–Ω–æ–≤–Ω–æ–º –≤—Å–µ –æ—à–∏–±–∫–∏ —Å–≤—è–∑–∞–Ω—ã —Å –¥–∞–Ω–Ω—ã–º–∏. –ù–µ–±–æ–ª—å—à–∞—è —á–∞—Å—Ç—å - –æ—à–∏–±–∫–∏ –∏–∑-–∑–∞ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏–≤–æ–¥–∏–ª–∏ –∫ –∑–∞–≤–∏—Å–∞–Ω–∏—é.  
–ö–æ–Ω—Ç—Ä–æ–ª—å –æ—à–∏–±–æ–∫ –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª, –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –≥—Ä–∞—Ñ–∞ –∑–∞–ø—Ä–æ—Å–∞ —Ç–æ–∂–µ –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª. 

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤–µ–ª–∞—Å—å –≤—Ä—É—á–Ω—É—é [kinopoiskdev.docs.apiary.io](https://kinopoiskdev.docs.apiary.io/), –¥–æ –µ–µ –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –º–æ–∏ —Ä—É–∫–∏ —Ç–∞–∫ –∏ –Ω–µ –¥–æ–±—Ä–∞–ª–∏—Å—å. 
–ó–∞ –≤—Å–µ –≤—Ä–µ–º—è –æ–Ω–∞ —Å–∏–ª—å–Ω–æ —É—Å—Ç–∞—Ä–µ–ª–∞. –ê apiary.io –≤–æ–æ–±—â–µ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª –†–æ—Å—Å–∏—è–Ω.

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
–î–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π api —Ä–∞–±–æ—Ç–∞–ª–æ –±—ã—Å—Ç—Ä–æ –∏ —Å—Ç–∞–±–∏–ª—å–Ω–æ, –Ω–æ –¥–æ—Å—Ç–∏–≥–∞–ª–æ—Å—å —ç—Ç–æ –∑–∞ —Å—á–µ—Ç –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ —É—Ä–æ–≤–Ω–µ —Ä–µ–≤–µ—Ä—Å–ø—Ä–æ–∫—Å–∏. –≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏–ª–æ –∫ –ø—Ä–æ–±–ª–µ–º–∞–º –∏–∑-–∑–∞ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏—è –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏–∏ –∫–µ—à–∞. –ï—Å–ª–∏ –±—ã –∫–µ—à –±—ã–ª –≤–Ω—É—Ç—Ä–∏ –∞–ø–∏, —Ç–æ –æ–Ω –±—ã–ª –±—ã –±–æ–ª–µ–µ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–º.
–¢–∞–∫ –∫–∞–∫ –≤ –∫–∞—á–µ—Å—Ç–≤–µ http —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ –±—ã–ª –≤—ã–±—Ä–∞–Ω express, –æ–Ω –∫–æ–Ω–µ—á–Ω–æ –∂–µ –ø–æ—Ä–µ–∑–∞–ª –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—É—é –ø–µ—Ä—Ñ–æ—Ä–º–∞–Ω—Å –¥–æ —É—Ä–æ–≤–Ω—è –ø–∏—Ç–æ–Ω–∞.

<details>
<summary>–°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –≤ –±–µ–Ω—á–º–∞—Ä–∫–∞—Ö</summary>
–¢–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è, —Å 40 —è–¥—Ä–∞–º–∏ –∏ 60gb RAM –∏ –∫–µ—à–µ–º. –ù–æ –≤ —ç—Ç–æ–º —Ç–µ—Å—Ç–µ —Å–∏–ª—å–Ω–æ –ø–æ—Ä–µ–∑–∞–ª –∑–∞–ø—Ä–æ—Å—ã cloudflare.

```shell
$ wrk -t10 -c400 -d30s  https://api.kinopoisk.dev/movie\?token\=\&search\=427631\&field\=id
Running 30s test @ https://api.kinopoisk.dev/movie?token=&search=427631&field=id
  10 threads and 400 connections
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency   158.26ms   93.65ms   1.26s    89.85%
    Req/Sec   104.39     82.41   560.00     90.79%
  30350 requests in 30.06s, 168.53MB read
  Socket errors: connect 6, read 2, write 0, timeout 0
  Non-2xx or 3xx responses: 22206
Requests/sec:   1009.71
Transfer/sec:      5.61MB
```

–ß—Ç–æ–∂, –∑–∞–ø—É—â—É –ª–æ–∫–∞–ª—å–Ω–æ —ç—Ç—É –∂–µ –≤–µ—Ä—Å–∏–∏ –±–µ–∑ –∫–ª–∞—Å—Ç–µ—Ä–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞
```shell
$ wrk -t10 -c400 -d30s  http://localhost:3000/movie\?token\=\&search\=427631\&field\=id
Running 30s test @ http://localhost:3000/movie?token=&search=427631&field=id
  10 threads and 400 connections
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency     0.00us    0.00us   0.00us     nan%
    Req/Sec    16.95     12.73    60.00     61.38%
  800 requests in 30.03s, 5.31MB read
  Socket errors: connect 0, read 409, write 0, timeout 800
Requests/sec:     26.64
Transfer/sec:    181.12KB
```

–ê —Ç–µ–ø–µ—Ä—å –∑–∞–ø—É—â—É –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é –∏–∑ —ç—Ç–æ–≥–æ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è, –∫–æ—Ç–æ—Ä–∞—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç fastify 
```shell
$ wrk -t10 -c400 -d30s  http://localhost:3333/v1/movie/666   
Running 30s test @ http://localhost:3333/v1/movie/666
  10 threads and 400 connections
  Thread Stats   Avg      Stdev     Max   +/- Stdev
    Latency    65.36ms  191.19ms   1.99s    95.14%
    Req/Sec     1.31k   345.95     6.25k    85.50%
  385723 requests in 30.05s, 1.14GB readrm
  Socket errors: connect 0, read 812, write 0, timeout 444
Requests/sec:  12834.22
Transfer/sec:     38.78MB
```
–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —É–∂–µ –ø—Ä–∏—è—Ç–Ω—ã–µ :)
</details>

### –î–µ–ø–ª–æ–π–º–µ–Ω—Ç
–ï—â–µ –æ–¥–Ω–∞ –±–æ–ª—å. –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤—Å–µ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ pm2, –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö, –∫–µ—à, —Ä–µ–≤–µ—Ä—Å –ø—Ä–æ–∫—Å–∏.   
–í—Å–µ —ç—Ç–æ –±—ã–ª–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –∏ –∑–∞–ø—É—â–µ–Ω–æ –ª–æ–∫–∞–ª—å–Ω–æ –Ω–∞ –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–º —Å–µ—Ä–≤–µ—Ä–µ.  
Dev/Stage/Prod –≤–µ—Ä—Å–∏–π api –Ω–µ –±—ã–ª–æ. –ü–æ —Ñ–∞–∫—Ç—É –≤—Å–µ —ç—Ç–æ –±—ã–ª–æ –ø—Ä–æ–¥–æ–º.

---
**[–¢–µ–∫—É—â–∞—è —Å—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö](https://raw.githubusercontent.com/kinopoiskdev/kinopoiskdev/main/docs/images/ERD.svg)**
<p style="text-align: center;"><img src="./docs/images/ERD.svg"></p>

---
–î–∞–Ω–Ω—ã–π –ø—Ä–æ–µ–∫—Ç –Ω–∏–∫–∞–∫–æ–≥–æ –æ—Ç–Ω–æ—à–µ–Ω–∏—è –Ω–µ –∏–º–µ–µ—Ç –∫ [kinopoisk.ru](https://kinopoisk.ru), –∞ –≤—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–∏–ª—å–º–∞—Ö –∏ –∞–∫—Ç–µ—Ä–∞—Ö –≤–∑—è—Ç–∞ —Å –æ—Ç–∫—Ä—ã—Ç—ã—Ö –∏–Ω—Ç–µ—Ä–Ω–µ—Ç —Å–∞–π—Ç–æ–≤ –¥–ª—è –ø–æ–∏—Å–∫–∞ –∫–∏–Ω–æ.
